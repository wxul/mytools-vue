webpackJsonp([1],{8:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),t=e&&window.navigator.userAgent.toLowerCase(),s=t&&/msie|trident/.test(t),r=t&&t.indexOf("msie 9.0")>0,n=t&&t.indexOf("edge/")>0,i=t&&t.indexOf("android")>0,a=t&&/iphone|ipad|ipod|ios/.test(t),o=t&&/micromessenger/.test(t);return{inBrowser:e,isIE:s,isIE9:r,isEdge:n,isAndroid:i,isIOS:a,isWeixin:o}}(),n=!1,i=n?"http://127.0.0.1:3000":"http://xxx.com";t.system=r,t.target=i,t.DEBUG=n},61:function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(93),i=r(n);i.default.install=function(e){e.component(i.default.name,i.default)},t.default=i.default},62:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(e){return["line","circle"].indexOf(e)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(e){return e>=0&&e<=100}},status:{type:String},strokeWidth:{type:Number,default:6},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0}},computed:{barStyle:function(){var e={};return e.width=this.percentage+"%",e},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},trackPath:function(){var e=parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10);return"M 50 50 m 0 -"+e+" a "+e+" "+e+" 0 1 1 0 "+2*e+" a "+e+" "+e+" 0 1 1 0 -"+2*e},perimeter:function(){var e=50-parseFloat(this.relativeStrokeWidth)/2;return 2*Math.PI*e},circlePathStyle:function(){var e=this.perimeter;return{strokeDasharray:e+"px,"+e+"px",strokeDashoffset:(1-this.percentage/100)*e+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var e;switch(this.status){case"success":e="#13ce66";break;case"exception":e="#ff4949";break;default:e="#20a0ff"}return e},iconClass:function(){return"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-cross":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2}}}},66:function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(8),i=s(100),a=r(i);t.default={components:{MyUpload:a.default},data:function(){return{fileList:[],action:n.target+"/js/file",form:{},dl:{name:"result.js",href:""}}},computed:{showdl:function(){return!!this.dl.href}},methods:{success:function(e){var t=new Blob([e.data],{type:"application/octet-binary"}),s=URL.createObjectURL(t);this.dl.href=s}}}},69:function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=s(61);r(i);t.default={name:"my-upload",props:{onSubmit:{type:Function,default:function(){}},action:{type:String,required:!0},onError:{type:Function,default:function(){}},onSuccess:{type:Function,default:function(){}},withCredentials:{type:Boolean},params:{type:Object},headers:{type:Object}},data:function(){return{upload:!1,dragOver:!1,files:[],progress:0}},methods:{sizeformat:function(e){return e>1048576?(e/1048576).toFixed(2)+" MB":e>1024?(e/1024).toFixed(2)+" KB":e+" Byte"},handleChange:function(e){var t=e.target.files;t&&(this.addFile(t),this.$refs.input.value=null)},parsePercentage:function(e){return parseInt(e,10)},handleClick:function(){this.$refs.input.click()},onDrop:function(e){this.dragOver=!1,this.addFile(e.dataTransfer.files)},addFile:function(e){this.files=this.files.concat([].concat(n(e)))},delFile:function(e){var t=this.files;t.splice(t.indexOf(e),1)},onProgress:function(e){this.progress=e.percent||0},uploadfile:function(){function e(e,t){var s="fail to post "+e+" "+t.status+"'",r=new Error(s);return r.status=t.status,r.method="post",r.url=e,r}function t(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}if(0!=this.files.length){var s=new XMLHttpRequest,r=this.action,n=this;s.upload&&(s.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),n.onProgress(e)});var i=new FormData;n.params&&Object.keys(n.params).map(function(e){i.append(e,n.params[e])}),n.files.forEach(function(e,t){i.append(e.name,e)}),n.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0),s.onerror=function(e){n.onError(e)},s.onload=function(i){return s.status<200||s.status>=300?n.onError(e(r,s),t(s)):(n.onSuccess(t(s)),void setTimeout(function(){n.upload=!1},1e3))},s.open("post",r,!0);var a=n.headers||{};for(var o in a)a.hasOwnProperty(o)&&null!==a[o]&&s.setRequestHeader(o,a[o]);this.upload=!0,s.send(i)}},submit:function(){this.uploadfile()}}}},77:function(e,t,s){t=e.exports=s(3)(),t.push([e.id,"",""])},82:function(e,t,s){t=e.exports=s(3)(),t.push([e.id,".el-upload,.el-upload__tip{line-height:normal}.el-progress{margin-bottom:10px}",""])},93:function(e,t,s){var r,n;r=s(62);var i=s(104);n=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(n=r=r.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,e.exports=r},97:function(e,t,s){var r,n;s(112),r=s(66);var i=s(103);n=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(n=r=r.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,e.exports=r},100:function(e,t,s){var r,n;s(117),r=s(69);var i=s(109);n=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(n=r=r.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,e.exports=r},103:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"txt"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:16,offset:1}},[s("el-form",{attrs:{model:e.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"文件"}},[s("my-upload",{attrs:{action:e.action,type:"drag",accept:".js",onSuccess:e.success}},[s("div",{staticClass:"el-upload__tip",slot:"tips"},[e._v("只能上传js文件")])])],1),e._v(" "),s("el-form-item",{attrs:{label:"压缩后"}},[s("a",{directives:[{name:"show",rawName:"v-show",value:e.showdl,expression:"showdl"}],attrs:{href:e.dl.href,download:e.dl.name}},[e._v("点击下载文件")])])],1)],1)],1)],1)},staticRenderFns:[]}},104:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"el-progress",class:["el-progress--"+e.type,e.status?"is-"+e.status:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}]},["line"===e.type?s("div",{staticClass:"el-progress-bar"},[s("div",{staticClass:"el-progress-bar__outer",style:{height:e.strokeWidth+"px"}},[s("div",{staticClass:"el-progress-bar__inner",style:e.barStyle},[e.showText&&e.textInside?s("div",{staticClass:"el-progress-bar__innerText"},[e._v(e._s(e.percentage)+"%")]):e._e()])])]):s("div",{staticClass:"el-progress-circle",style:{height:e.width+"px",width:e.width+"px"}},[s("svg",{attrs:{viewBox:"0 0 100 100"}},[s("path",{staticClass:"el-progress-circle__track",attrs:{d:e.trackPath,stroke:"#e5e9f2","stroke-width":e.relativeStrokeWidth,fill:"none"}}),e._v(" "),s("path",{staticClass:"el-progress-circle__path",style:e.circlePathStyle,attrs:{d:e.trackPath,"stroke-linecap":"round",stroke:e.stroke,"stroke-width":e.relativeStrokeWidth,fill:"none"}})])]),e._v(" "),e.showText&&!e.textInside?s("div",{staticClass:"el-progress__text",style:{fontSize:e.progressTextSize+"px"}},[e.status?s("i",{class:e.iconClass}):[e._v(e._s(e.percentage)+"%")]],2):e._e()])},staticRenderFns:[]}},109:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"el-upload"},[s("div",{staticClass:"el-upload__inner el-dragger",on:{click:e.handleClick,drop:function(t){t.preventDefault(),e.onDrop(t)},dragover:function(t){t.preventDefault(),e.dragOver=!0},dragleave:function(t){t.preventDefault(),e.dragOver=!1}}},[s("i",{staticClass:"el-icon-upload"}),e._v(" "),e._m(0),e._v(" "),s("input",{ref:"input",staticClass:"el-upload__input",attrs:{type:"file",multiple:"multiple",accept:".js"},on:{change:e.handleChange}})]),e._t("tips"),e._v(" "),s("transition-group",{staticClass:"el-upload__files",attrs:{tag:"ul",name:"list"}},e._l(e.files,function(t){return s("li",{key:t,staticClass:"el-upload__file is-finished"},[s("a",{staticClass:"el-upload__file__name"},[s("i",{staticClass:"el-icon-document"}),e._v(e._s(t.name)+" ("+e._s(e.sizeformat(t.size))+")\n        ")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.upload,expression:"!upload"}],staticClass:"el-upload__btn-delete",on:{click:function(s){e.delFile(t)}}},[e._v("删除")])])})),e._v(" "),e.upload?s("el-progress",{attrs:{percentage:e.parsePercentage(e.progress)}}):e._e(),e._v(" "),s("el-button",{attrs:{size:"small",type:"primary",disabled:e.upload},on:{click:e.submit}},[e._v(e._s(e.upload?"正在处理":"点击上传"))])],2)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"el-dragger__text"},[e._v("将文件拖到此处，或"),s("em",[e._v("点击上传")])])}]}},112:function(e,t,s){var r=s(77);"string"==typeof r&&(r=[[e.id,r,""]]);s(5)(r,{});r.locals&&(e.exports=r.locals)},117:function(e,t,s){var r=s(82);"string"==typeof r&&(r=[[e.id,r,""]]);s(5)(r,{});r.locals&&(e.exports=r.locals)}});